{"mappings":"qhBACA,IAAAA,EAAAC,EAAA,SACA,MAEMC,EAAOC,SAASC,cAAc,kBACpCF,EAAKG,iBAAiB,QAASC,EAAAN,EAAA,EAqB/B,SAAsBO,GAClBC,EAASD,EAAIE,OAAOC,MAAQH,EAAIE,OAAOE,MACvCC,aAAaC,QA1BG,sBA0BkBC,KAAKC,UAAUP,G,GAvBC,MACtDN,EAAKG,iBAAiB,UA0BtB,SAAuBE,GACnBA,EAAIS,iBACJC,QAAQC,IAAIV,GACZN,EAAKiB,QACLP,aAAaQ,WAlCG,sB,IAMpB,IAAIZ,EAAW,GACf,MAAMa,EAAkBP,KAAKQ,MAAMV,aAAaW,QAP5B,wBAUhBF,IAEAb,EAAWa,EAEX,IAAInB,EAAKsB,UAAUC,SAAQC,IACnBL,EAAgBM,eAAeD,EAAQhB,MACvCgB,EAAQf,MAAQU,EAAgBK,EAAQhB,MAExCgB,EAAQf,MAAQ,IAAI","sources":["src/js/03-feedback.js"],"sourcesContent":["//the script will handle forms with any number of fields with unique 'name' attribute\nimport throttle from \"lodash/throttle\";\nconst STORAGE_KEY = \"feedback-form-state\";\n\nconst form = document.querySelector(\".feedback-form\");\nform.addEventListener(\"input\", throttle(inputHandler, 500));\nform.addEventListener(\"submit\", submitHandler);\n\nlet formData = {}; // variable for storing data\nconst storageFormData = JSON.parse(localStorage.getItem(STORAGE_KEY)); // variable for reading data from localstorage\n\n// checking if localstorage contains saved data \nif (storageFormData) {\n    // making sure the restored values are updated on input, not overwritten\n    formData = storageFormData;\n    // populating the form with saved data from localstorage\n    [...form.elements].forEach(element => {\n        if (storageFormData.hasOwnProperty(element.name)) {\n            element.value = storageFormData[element.name];\n        } else {\n            element.value = null;\n        }\n    })\n}\n\n// saving data to localstorage regardless the number of fields\nfunction inputHandler(evt) {\n    formData[evt.target.name] = evt.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\n// cleaning the storage and input fields, returning the saved object from localstorage to console\nfunction submitHandler(evt) {\n    evt.preventDefault();\n    console.log(formData);\n    form.reset();\n    localStorage.removeItem(STORAGE_KEY);\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","addEventListener","$parcel$interopDefault","evt","$945622fd0f572e60$var$formData","target","name","value","localStorage","setItem","JSON","stringify","preventDefault","console","log","reset","removeItem","$945622fd0f572e60$var$storageFormData","parse","getItem","elements","forEach","element","hasOwnProperty"],"version":3,"file":"03-feedback.c7e13f97.js.map"}